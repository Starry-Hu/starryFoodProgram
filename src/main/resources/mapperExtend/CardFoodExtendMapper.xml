<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.practice.starryfood.daoExtend.CartFoodExtendMapper">

    <!-- 获取某购物车全部菜品 -->
    <select id="getFoodsFromCart" parameterType="java.lang.String" resultType="com.practice.starryfood.pojo.CartFoodExtend">
     SELECT
        A.cart_food_uuid,
        A.cart_id,
        A.food_id,
        A.food_num,
        A.food_one_total_price,
        B.food_name,
        B.food_price,
        B.food_measurement,
        B.food_img
    FROM
        `cart_food` A
        INNER JOIN food B ON A.food_id = B.food_id
    WHERE
        A.cart_id = #{cartId}
    </select>

    <!-- 获取某购物车中某类菜品信息 -->
    <select id="getFoodFromCartByFid" resultType="com.practice.starryfood.pojo.CartFoodExtend">
     SELECT
        A.cart_food_uuid,
        A.cart_id,
        A.food_id,
        A.food_num,
        A.food_one_total_price,
        B.food_name,
        B.food_price,
        B.food_measurement,
        B.food_img
    FROM
        `cart_food` A
        INNER JOIN food B ON A.food_id = B.food_id
    WHERE
        A.cart_id = #{cartId}
        AND A.food_id = #{foodId}
    </select>

</mapper>